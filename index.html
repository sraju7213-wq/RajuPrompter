
<!doctype html>
<html lang="en" class="theme-dark">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>PromptSmith — Advanced Image Prompt Generator</title>
  <link rel="stylesheet" href="css/styles.css"/>
</head>
<body>
  <div class="container">
    <div class="header">
      <div class="brand">🎛️ PromptSmith <span class="badge">v1.0</span></div>
      <div class="controls">
        <select id="themeSelect" title="Theme">
          <option value="theme-light">Light</option>
          <option value="theme-dark" selected>Dark</option>
          <option value="theme-solarized">Solarized</option>
          <option value="theme-midnight">Midnight</option>
          <option value="theme-pastel">Pastel</option>
          <option value="theme-contrast">High Contrast</option>
        </select>
        <select id="platformSelect" title="Platform">
          <option value="midjourney">Midjourney</option>
          <option value="stablediffusion">Stable Diffusion</option>
          <option value="flux">Flux</option>
          <option value="naturallanguage">Natural Language</option>
        </select>
        <div class="inline">
          <label class="small">Aspect</label>
          <select id="aspectSelect"></select>
        </div>
        <button id="btnSave" class="btn-primary">Download Prompt (.txt)</button>
      </div>
    </div>

    <div class="grid" style="margin-top:16px;">
      <div class="card span-8">
        <h3>Prompt Builder</h3>
        <div class="inline">
          <button id="btnPortrait">🎭 Portrait</button>
          <button id="btnNature">🌿 Nature</button>
          <button id="btnSurprise">🎲 Surprise</button>
          <button id="btnBatch">🧪 Batch x10</button>
          <button id="btnClear" class="btn-ghost">Clear</button>
        </div>
        <hr/>
        <textarea id="promptInput" placeholder="Write or generate your prompt here..."></textarea>
        <div class="inline">
          <label><input type="checkbox" id="includeNegative" checked/> Include negative prompt</label>
          <label><input type="checkbox" id="useRules" checked/> Enforce advanced rules</label>
          <label><input type="checkbox" id="smartFormat" checked/> Platform formatting</label>
        </div>
        <div class="inline">
          <label class="small">Strength</label><input type="range" min="0" max="100" value="50" id="creativity">
          <label class="small">Chaos</label><input type="range" min="0" max="100" value="5" id="chaos">
        </div>
        <hr/>
        <div id="formattedOutput" class="small"></div>
      </div>

      <div class="card span-4">
        <h3>Image→Prompt (Heuristic)</h3>
        <input type="file" id="imgInput" accept="image/*"/>
        <canvas id="imgCanvas" class="hidden"></canvas>
        <div id="imgInfo" class="small"></div>
        <div id="imgTags" class="tags"></div>
      </div>

      <div class="card span-6">
        <h3>Library <span class="small">(words: <span id="wordCount">0</span> / prompts: <span id="promptCount">0</span>)</span></h3>
        <div class="inline">
          <input id="searchWord" placeholder="Search word..."/>
          <button id="btnExportLib">Export Library JSON</button>
          <input type="file" id="importLib" accept=".json"/>
        </div>
        <div style="max-height:260px; overflow:auto; margin-top:8px;">
          <table id="libraryTable">
            <thead><tr><th>Category</th><th>Sample</th><th>Size</th></tr></thead>
            <tbody></tbody>
          </table>
        </div>
      </div>

      <div class="card span-6">
        <h3>Open‑Source Packs (No API)</h3>
        <div class="inline">
          <button id="btnLoadSample">Load Sample Pack</button>
          <input id="packUrl" placeholder="GitHub raw JSON URL (optional)" style="width:60%"/>
          <button id="btnLoadUrl">Load URL</button>
        </div>
        <div id="packStatus" class="small"></div>
        <div id="packPreview" class="small"></div>
      </div>

      <div class="card span-12">
        <h3>History & Versions</h3>
        <div id="history" class="small"></div>
      </div>
    </div>

    <div class="footer">
      <div>© 2025 PromptSmith. Local‑first, offline app.</div>
      <div class="kv">
        <label>Copy:</label>
        <span id="copyPositive" class="copy">Positive</span> ·
        <span id="copyNegative" class="copy">Negative</span> ·
        <span id="copyAll" class="copy">All</span>
      </div>
    </div>
  </div>

  <script src="js/data.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
